<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Doucite</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="wrap">
    <div class="toolbar">
      <div class="brand">Doucite <span class="version">v3.7.2</span></div>
      <div class="controls">
        <select id="style"><option value="apa">APA 7</option></select>
        <button id="rescan">↻</button>
      </div>
    </div>

    <div class="panel">
      <div class="panel-header">Metadata (editable)</div>
      <div class="grid">
        <label>Title<input id="title" type="text"></label>
        <label>Author(s)<input id="authors" type="text" placeholder="Comma separated"></label>
        <label>Date (manual)<input id="date" type="text" placeholder="YYYY-MM-DD"></label>
        <label>Publisher<input id="publisher" type="text"></label>
        <label>URL<input id="url" type="text"></label>
        <label>DOI<input id="doi" type="text"></label>
      </div>

      <div class="panel-subheader">Detected dates — choose one</div>
      <div class="date-choices">
        <label><input type="radio" name="dateChoice" id="dateChoicePublished"> Use published (<span id="detPublished">none</span>)</label>
        <label><input type="radio" name="dateChoice" id="dateChoiceModified"> Use modified (<span id="detModified">none</span>)</label>
        <label><input type="radio" name="dateChoice" id="dateChoiceND"> No date (n.d.)</label>
      </div>

      <div id="quickFillContainer"></div>

      <div class="panel-actions">
        <button id="apply">Apply changes</button>
        <label><input id="lockCitation" type="checkbox"> Lock citation</label>
        <span id="status"></span>
      </div>
    </div>

    <div class="panel">
      <div class="panel-header">Overrides</div>
      <div class="overrides">
        <button id="loadAuto">Load auto</button>
        <button id="loadPageOverride">Load page override</button>
        <button id="savePageOverride">Save page override</button>
        <button id="clearPageOverride">Clear page override</button>
      </div>
    </div>

    <div class="panel">
      <div class="panel-header">Options</div>
      <div class="options">
        <label><input id="includeAccessed" type="checkbox" checked> Include Retrieved</label>
        <label><input id="sentenceCase" type="checkbox" checked> Sentence case title (APA)</label>
        <label><input id="useCorporateAuthor" type="checkbox" checked> Use publisher when author missing</label>
      </div>
    </div>

    <div class="panel">
      <div class="panel-header">Preview</div>
      <textarea id="output" rows="6" readonly></textarea>
      <div class="panel-actions">
        <button id="copy">Copy citation</button>
      </div>
    </div>
  </div>

  <script src="utils.js"></script>
  <script src="popup.js"></script>
</body>
</html>
