<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Doucite</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="wrap">
    <div class="toolbar" role="toolbar" aria-label="Top controls">
      <div class="brand">Doucite</div>
      <div class="controls">
        <label class="visually-hidden" for="style">Citation style</label>
        <select id="style" aria-label="Citation style">
          <option value="apa">APA 7</option>
          <option value="mla">MLA 9</option>
          <option value="chicago">Chicago</option>
        </select>
        <button id="rescan" title="Rescan page" aria-label="Rescan page">↻</button>
        <button id="darkmode" title="Toggle dark mode" aria-label="Toggle dark mode">☾</button>
      </div>
    </div>

    <div class="panel" aria-labelledby="meta-header">
      <div id="meta-header" class="panel-header">Metadata</div>
      <div class="grid">
        <label>Title<input id="title" type="text"></label>
        <label>Author(s)<input id="authors" type="text" placeholder="Comma separated"></label>
        <label>Date<input id="date" type="text" placeholder="YYYY-MM-DD or 3 December 2020"></label>
        <label>Publisher<input id="publisher" type="text"></label>
        <label>URL<input id="url" type="text"></label>
        <label>DOI<input id="doi" type="text" placeholder="10.xxxx/...."></label>
      </div>
      <div class="panel-actions">
        <button id="apply" class="primary">Apply changes</button>
        <button id="saveOverride">Save site override</button>
        <a class="link" href="https://github.com/changcheng967/Doucite" target="_blank" rel="noopener">Repo</a>
        <a class="link" href="https://github.com/changcheng967" target="_blank" rel="noopener">Author</a>
        <span id="status" class="status" aria-live="polite"></span>
      </div>
    </div>

    <div class="panel" aria-labelledby="opts-header">
      <div id="opts-header" class="panel-header">Options</div>
      <div class="options">
        <label><input type="checkbox" id="includeAccessed" checked> Include “Retrieved” date</label>
        <label><input type="checkbox" id="sentenceCase" checked> Sentence case title (APA)</label>
        <label><input type="checkbox" id="useCorporateAuthor" checked> Use publisher/site when author missing</label>
        <label><input type="checkbox" id="pdfSuffix" checked> Append “[PDF]” when detected</label>
      </div>
    </div>

    <div class="panel" aria-labelledby="preview-header">
      <div id="preview-header" class="panel-header">Preview</div>
      <textarea id="output" rows="6" readonly aria-label="Citation preview"></textarea>
      <div class="panel-actions">
        <button id="copy" class="primary">Copy citation</button>
        <button id="copyBib">Copy BibTeX</button>
      </div>
    </div>

    <div class="credits">
      By <strong>changcheng967</strong> • With help from <strong>Doulet Media</strong> •
      <a class="link" href="https://github.com/changcheng967/Doucite" target="_blank" rel="noopener">GitHub</a>
    </div>
  </div>

  <script src="utils.js"></script>
  <script src="popup.js"></script>
</body>
</html>
